<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta http-equiv="content-type" content="text/html;charset=utf-8"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link></head><body>
<h1>Параметры счетчика потребления ресурсов</h1>
<p>Чтобы создать новый счетчик потребления ресурсов, необходимо в обработке "Управление серверами" открыть ветку <b>Счетчики потребления ресурсов</b> и в контекстном меню выбрать пункт <b>Добавить</b>. Для того чтобы изменить параметры счетчика, следует в списке счетчиков установить курсор на требуемый счетчик и в контекстном меню выполнить команду <b>Изменить</b>.</p>
<p>При редактировании существующего счетчика свойство <b>Имя</b> недоступно для изменения.</p>
<p>Счетчик потребления ресурсов описывается следующими параметрами:</p>
<ul><li><b>Имя</b> - уникальное имя счетчика. Уникально в пределах кластера.</li>
<li><b>Описание</b> - строка, представляющая описание счетчика.</li>
<li><b>Длительность сбора</b> -  интервал времени, за который счетчик будет собирать данные. Каждый счетчик может формироваться в разрезе по некоторому свойству, т. е. будет создаваться столько экземпляров счетчика, сколько будет уникальных значений для данного свойства.</li>
<li><b>Группировка</b> - позволяет указать, свойство счетчика, которое будет использоваться при создании нового экземпляра: 
</li>
<ul><li><b>Пользователи</b> ‑ счетчик будет раздельно накапливать информацию по сеансам, работающим от лица различных пользователей системы "1С:Предприятие".</li>
<li><b>Разделение данных</b> ‑ счетчик будет раздельно накапливать информацию по сеансам, работающих с различными областями данных.</li></ul><li><b>Тип отбора</b> - имя файла-моникера.</li>
<li><b>Значение отбора счетчика</b> - если указано, информация накапливается за указанный в свойстве <b>Длительность сбора</b> интервал времени. Накопление осуществляется скользящим окном указанного размера. Если не указано - все параметры, которые накапливает счетчик, используют данные текущего серверного вызова. </li>
</ul><p>Счетчик позволяет накапливать информацию за один серверный вызов или за указанный интервал времени. Режим работы счетчика задается с помощью свойства <b>Длительность сбора</b>:</p>
<ul><li>Серверный вызов - в этом случае все параметры, которые накапливает счетчик, используют данные текущего серверного вызова.</li>
  
<li>Другое значение - в этом случае информация накапливается за указанный в свойстве Длительность сбора интервал времени. Накопление осуществляется скользящим окном указанного размера.</li>
</ul><p>Счетчик позволяет накапливать следующую информацию:</p>
<ul><li>Время, потраченное на выполнение следующих действий (группа <b>Накапливать значения длительности</b>):
    
<ul><li><b>серверных вызовов</b> - время, потраченное с момента начала до момента окончания серверного вызова, в миллисекундах. Для формирования используется значение Время вызова из свойств сеанса.</li>
      
<li><b>процессорного времени</b> - процессорное время, непосредственно использованное на выполнение серверного вызова, в миллисекундах. Для формирования используется значение Процессорное время из свойств сеанса.</li>
      
<li><b>вызовов СУБД</b> - время, потраченное на вызов СУБД, в миллисекундах. Для формирования используется значение Время вызова СУБД из свойств сеанса.</li>
      
<li><b>вызовов сервисов</b> - сколько времени было потрачено на работу сервисов кластера, в миллисекундах. Для формирования используется значение Время вызовов сервисов из свойств сеанса.</li>
    </ul></li>
  
<li>Объем данных, обработанных за время замера (группа <b>Накапливать объем информации</b>):
    
<ul><li><b>используемой памяти</b> - объем оперативной памяти, занятой сеансом в текущий момент, в байтах. Этот показатель всегда показывает текущее значение. </li>
<li><b>считанных с диска</b> - объем данных, прочитанных с диска, в байтах. </li>
      
<li><b>записанной на диск</b> - объем данных, записанных на диск, в байтах.</li>
      
<li><b>переданной СУБД</b> - объем данных, которые были переданы и получены при работе с СУБД, в байтах. </li>
    </ul></li>
  
<li>Количественные показатели (группа <b>Накапливать количество</b>):
<ul><li><b>сеансов</b> - общее количество сеансов за интервал измерения. Включает в себя как активные сеансы, так и уже завершенные сеансы.</li>
<li><b>активных сеансов</b> - текущее количество активных сеансов.</li>
<li><b>серверных вызовов</b> - количество серверных вызовов. Для формирования используется значение <b>Количество вызовов</b> из свойств сеанса.</li>
    </ul></li>
</ul><p>В зависимости от используемой длительности сбора, для формирования показателей используются разные свойства сеанса:</p>
<ul><li>При расчете за серверный вызов, в качестве исходной информации используется значение из свойств сеанса с суффиксом (текущее). Например, для расчета длительности серверного вызова используется свойство <b>Время вызова (текущее)</b>.</li>
  
<li>При расчете за интервал времени, используется разность между итоговым значением показателя на конец интервала и итоговым показателем на начало интервала. Таким образом, для расчета значения <b>Серверные вызовы</b> за интервал из значения<b> Время вызова (всего)</b> на конец интервала вычитается значение <b>Время вызова (всего) </b>на начало интервала.</li>
</ul></body></html>